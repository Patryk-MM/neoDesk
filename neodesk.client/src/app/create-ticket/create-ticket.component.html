<div class="flex flex-col m-4 p-4 border-2 border-base-300 rounded-md">
  <h1 class="text-lg pb-4">Nowe zgłoszenie</h1>

  <form class="flex flex-col w-full gap-4" (ngSubmit)="onSubmit($event)">

    <!-- FIELDS: two columns side by side -->
    <div class="flex w-full gap-4">
      <!-- LEFT SIDE -->
      <div class="w-2/3 p-4 bg-base-100 border rounded-lg">
        <!-- Tytuł zgłoszenia -->
        <fieldset class="fieldset mb-4">
          <legend class="fieldset-legend mb-2">Tytuł zgłoszenia *</legend>
          <input
            type="text"
            class="input input-bordered w-full"
            placeholder="Wprowadź tytuł"
            [(ngModel)]="ticket.title"
            name="title"
            required />
        </fieldset>

        <!-- Opis -->
        <fieldset class="fieldset">
          <legend class="fieldset-legend mb-2">Opis *</legend>
          <quill-editor
            class="rounded-lg border border-base-300"
            [styles]="{ height: '200px' }"
            [(ngModel)]="ticket.description"
            name="description"
            (onContentChanged)="onDescriptionChange($event)"
            placeholder="Opisz problem szczegółowo...">
          </quill-editor>
        </fieldset>
      </div>

      <!-- RIGHT SIDE -->
      <div class="w-1/3 p-4 border rounded-lg flex flex-col gap-4">
        <!-- Data utworzenia -->
        <div class="flex items-center gap-4">
          <label class="w-1/3 text-sm font-medium text-base-content text-right">Data utworzenia</label>
          <input
            type="datetime-local"
            class="input input-bordered input-sm w-2/3"
            [(ngModel)]="ticket.createdAt"
            name="createdAt"
            required />
        </div>

        <!-- Kategoria -->
        <div class="flex items-center gap-4">
          <label class="w-1/3 text-sm font-medium text-base-content text-right">Kategoria</label>
          <select
            class="select select-bordered select-sm w-2/3"
            [(ngModel)]="ticket.category"
            name="category">
            <option value="0">Oprogramowanie</option>
            <option value="1">Sprzęt</option>
          </select>
        </div>

        <!-- Status -->
        <div class="flex items-center gap-4">
          <label class="w-1/3 text-sm font-medium text-base-content text-right">Status</label>
          <select
            class="select select-bordered select-sm w-2/3"
            [(ngModel)]="ticket.status"
            name="status">
            <option value="0">Nowy</option>
            <option value="1">Przypisany</option>
            <option value="2">Wstrzymany</option>
            <option value="3">Rozwiązany</option>
          </select>
        </div>
      </div>
    </div>

    <!-- SUBMIT BUTTON BELOW, RIGHT-ALIGNED -->
    <div class="flex justify-end">
      <button
        type="submit"
        class="btn btn-success w-48"
        [disabled]="isSubmitting"
        [class.loading]="isSubmitting">
        {{ isSubmitting ? 'Tworzenie...' : 'Utwórz nowe zgłoszenie' }}
      </button>
    </div>

  </form>
</div>
